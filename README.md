# Scheduler+ - スケジュール・シフト管理アプリケーション

## アプリのテーマ

**Scheduler+** は、学生の生活をサポートするためのスケジュール・シフト管理アプリケーションです。

### テーマ

「学生生活の時間管理を自由に、シンプルに」

大学生が日々の予定（学校、バイト、その他）を一元管理し、バイトの給料計算まで行える統合型スケジュール管理ツールです。

### 必要な環境
- Python 3.13.7以上
- 必要なパッケージ: peewee, tkinter

# インストール方法

#### リポジトリをクローン

git clone [(https://itcait-my.sharepoint.com/:v:/g/personal/k24073kk_aitech_ac_jp/IQDXZu3oKLF8TpEM5h5gNAOoAdWlEvp6qJdn1tNngKXhwB0?e=qv9t9R)]

#### 依存パッケージのインストール（必要な場合）

pip install peewee

# 実行方法

#### メインアプリケーションを起動

python main.py

## 使用方法

### 予定の追加・変更・削除
1. 画面右側の「ユーザー設定」にて、各情報を入力
2. 日付を選択し、「予定の追加/変更」をクリック
3. 「モード」を選択し、タイトル、時間を入力
4. 「登録/更新」をクリックし、予定の保存が完了します。

- 日付を選択し、「この日の予定を取得」を押すと選択した日の予定を画面下部に出力
- 「月全体の予定を取得」を押すと、今カレンダーで開いている月の予定が全て表示されます。
- 画面下部に予定が表示されている時、変更を加えたい予定をクリックし、予定の変更または削除ができます。

### 給料計算
1. 画面右側の「給料計算」 をクリック
2. 年月、時給、深夜倍率などを入力
3. 「シフト取得」をクリックした後、「給料計算」をクリックすると計算ができます。

### データのエクスポート・インポート
1. 「データエクスポート」をクリックし、保存先と名前を決め、保存
2. 「データインポート」をクリックし、ファイルを選択して開くとインポートができます。

### アピールポイント

1. **カレンダーの表示**
   - 月ごと、日ごとの予定を取得可能
   - 予定がある日を色分け表示
   - 選択した日付の視覚的フィードバック

2. **カテゴリ別の予定管理**
   - 学校（モードA）、バイト（モードB）、その他（NULL）で分類
   - 各カテゴリに応じた自動処理

3. **給料計算機能**
   - バイトシフトから自動で労働時間を計算
   - 時給を考慮した給料の見積もり表示

4. **JSONベースの非同期通信とデータ共有**
   - フロントエンドとバックエンドをJSONファイルで連携
   - シンプルで拡張しやすいアーキテクチャ

5. **予定の共有**
   - データをインポート、エクスポート可能にし、他人と共有も可能

6. **出発時間の管理**
   - ユーザー設定にて、通勤時間、通学時間、時給などを登録することにより、予定にあった外出時間も表示
---

## 機能一覧

### 主要機能

| 機能名             | 説明                                   | 実装状況    |
| ------------------ | -------------------------------------- | ----------- |
| **カレンダー表示** | 月単位のカレンダーで予定を視覚的に表示 | 実装済み |
| **予定の追加**     | 学校・バイト・その他の予定を追加       | 実装済み |
| **予定の変更**     | 既存の予定を編集・更新                 | 実装済み |
| **予定の削除**     | 不要な予定を削除                       | 実装済み |
| **日付別予定取得** | 選択した日付の予定を一覧表示           | 実装済み |
| **給料計算**       | バイトシフトから労働時間と給料を計算   | 実装済み |
| **エクスポート**   | スケジュールをJSONで出力               | 実装済み |
| **インポート**     | JSONファイルからスケジュールを読み込み | 実装済み |
| **出発時間管理**   | 移動時間を考慮した出発時間の自動表示   | 実装済み |

### 詳細機能

#### 1. カレンダー機能 (`front_end/calender.py`)

- 月のカレンダー表示
- 前月/次月への移動
- 予定がある日のハイライト表示　これはない
- 選択した日付、今日のハイライト
- 選択日、月ごとの予定一覧表示

#### 2. 予定管理機能 (`front_end/change.py`)

- 予定の追加・編集
- モード選択（学校A / バイトB / その他NULL）
- 開始日時・終了日時の設定
- 予定名の入力

#### 3. 給料計算機能 (`front_end/money.py`)

- 指定月のバイトシフト集計
- 労働時間の自動計算
- 時給を考慮した給料見積もり
- 日別の詳細表示

#### 4. メニュー機能 (`front_end/menu.py`)

- 各機能へのアクセス
- アプリケーションのナビゲーション

#### 5. データエクスポート・インポート機能

- スケジュールをJSONでエクスポート
- バックアップ・他ユーザーとの共有対応
- インポート機能で他人のスケジュールを取り込み
- `export/`フォルダで管理

#### 6. スマート出発時間管理機能 (`front_end/settings.py`)

- 時給、通学時間、通勤時間などのユーザー設定
- 各予定に対する最適な出発時間を自動計算
- 予定一覧での出発時間自動表示

---

## システム仕様

### アーキテクチャ

- **フロントエンド**: Tkinter (Python GUI)
- **バックエンド**: Python + Peewee ORM
- **データベース**: SQLite
- **通信方式**: JSONファイルベースの非同期通信

### データ構造

#### データベーステーブル

**schedule_tb（スケジュールテーブル）**

- `id`: スケジュールID（主キー、自動採番）
- `mode`: モード（A: 学校、B: バイト、NULL: その他）
- `name`: 予定名
- `start_date`: 開始日
- `start_time`: 開始時刻
- `end_date`: 終了日
- `end_time`: 終了時刻

**category_tb（カテゴリテーブル）**

- `id`: カテゴリID（主キー）
- `name`: カテゴリ名
- `mode`: モード（A/B/NULL）

#### JSON通信仕様

**リクエスト (`json/request.json`)**
{
"action": "get_schedule",
"date": "2026-01-15"
}

レスポンス (json/response.json)
{ "ok": true, "action": "get_schedule", "data": { "date": "2026-01-15", "schedules": [...] }}

### サポートするアクション

| アクション        | 説明               | リクエストパラメータ                                                                                                                                                | レスポンス                                                                |
| ----------------- | ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------- |
| `get_schedule`    | 指定日の予定を取得 | `date` (YYYY-MM-DD形式の文字列)                                                                                                                                     | `ok`: true/false<br>`data.date`: 検索日付<br>`data.schedules`: 予定の配列 |
| `add_schedule`    | 予定を追加         | `mode` (A/B/NULL)<br>`name` (予定名)<br>`start_date` (YYYY-MM-DD)<br>`start_time` (HH:MM)<br>`end_date` (YYYY-MM-DD)<br>`end_time` (HH:MM)                          | `ok`: true/false<br>`data.schedule`: 追加された予定情報                   |
| `update_schedule` | 予定を更新         | `id` (スケジュールID)<br>`mode` (A/B/NULL)<br>`name` (予定名)<br>`start_date` (YYYY-MM-DD)<br>`start_time` (HH:MM)<br>`end_date` (YYYY-MM-DD)<br>`end_time` (HH:MM) | `ok`: true/false<br>`data.schedule`: 更新された予定情報                   |
| `delete_schedule` | 予定を削除         | `id` (スケジュールID)                                                                                                                                               | `ok`: true/false<br>`data.deleted`: 削除されたID                          |

### 役割分担表

各機能の実装・保守を担当しているメンバーと連絡先です。機能追加やバグ報告の際は、該当する担当者に問い合わせてください。

| 機能/モジュール          | 担当者              | GitHubアカウント         | 備考                                                                 |
| ------------------------ | ------------------- | ------------------------ | -------------------------------------------------------------------- |
| **給料計算機能**         | K24066 西條暖生     | [saijo-0124] | バイトシフトの集計・給料計算 (`front_end/money.py`)                  |
| **カレンダー機能**       | K24072 更谷幸之助   | [kounosuke261] | カレンダー表示、予定の視覚化、日付選択機能 (`front_end/calender.py`) |
| **予定管理・データ共有・出発時間管理** | K24111 中山隼 | [naka2005] | 予定の追加・編集・削除 (`front_end/change.py`)、エクスポート・インポート (`export/`, `utils/data_io.py`)、移動時間計算 (`front_end/settings.py`)、給料計算機能の手伝い、カレンダー機能の手伝い |
| **バックエンド・UI統合** | X24099 山中秀太     | [shuta1123] | データベース操作、API実装 (`back_end/functions.py`)、メインウィンドウ、ナビゲーション (`front_end/menu.py`, `main.py`) |

#### 問い合わせ方法

- **機能追加の提案**: 該当機能の担当者にIssueを作成
- **バグ報告**: 該当機能の担当者にIssueを作成
- **全般的な質問**: プロジェクトメンテナーに連絡

#### セットアップ・実行方法

<<<<<<< HEAD
=======
必要な環境
Python 3.13.7以上
必要なパッケージ: peewee, tkinter（標準ライブラリ）

# インストール方法

#### リポジトリをクローン

   - git clone [(https://itcait-my.sharepoint.com/:v:/g/personal/k24073kk_aitech_ac_jp/IQDXZu3oKLF8TpEM5h5gNAOoAdWlEvp6qJdn1tNngKXhwB0?e=qv9t9R)]

#### 依存パッケージのインストール（必要な場合）

pip install peewee

# 実行方法

#### アプリケーションを起動

python main.py

### 

>>>>>>> 739918ae50151439a864cc33d49aa0554b05b80e
# ディレクトリ構造

```
freedom/
├── main.py # アプリケーションエントリーポイント
├── watcher_tk.py # JSONリクエスト監視（Tkinter版）
├── watcher.py # JSONリクエスト監視
├── my_database.db # SQLiteデータベースファイル
├── README.md # このファイル
├── front_end/ # フロントエンドモジュール
│   ├── __init__.py
│   ├── calender.py # カレンダー機能
│   ├── change.py # 予定追加/変更機能
│   ├── money.py # 給料計算機能
│   └── menu.py # メインメニュー
│
├── back_end/ # バックエンドモジュール
│   ├── __init__.py
│   ├── functions.py # API関数（予定のCRUD操作）
│   └── db/ # データベース関連
│       ├── __init__.py
│       ├── db.py # データベースモデル定義
│       └── init.py # データベース初期化
│
├── json/ # JSON通信ファイル
│   ├── request.json # フロントエンド→バックエンドのリクエスト
│   └── response.json # バックエンド→フロントエンドのレスポンス
│
└── tests/ # テストコード
    ├── test_frontend.py # フロントエンドのテスト
    └── test_ui_behavior.py # UI動作のテスト
```

# 今後の拡張予定

[OK] 月全体の予定を一度に取得する機能の追加<br>
[ ] 予定のドラッグ&ドロップによる移動<br>
[OK] 支出管理機能の拡張<br>
[OK] 準備時間・移動時間の自動計算<br>
[OK] データのエクスポート/インポート機能
