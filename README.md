# Todo カレンダー シフト管理 支出管理（仮）

＜最終課題＞

プルリクに対して返したコメント、そのコメントを返した理由
・シフト管理ver.2
Todo
カレンダー
シフト管理
・最初に質問があり、登校時間、バ先に行くまでの時間、それぞれの準備時間
・給料わかる
・やる気でたら給料見るモードを支出管理モードにする


データ
・people.json
	・通学時間
	・通学準備時間
	・通勤時間
	・通勤準備時間
	・時給
・category_tb
	・ID
	・name
	・mode
・schedule_tb
	・ID：スケジュールのID
	・category_ID：カテゴリのID
	・name
	・start_date
	・start_time
	・end_date	
	・end_time


ウィンドウ表示

オートインクリメント、PC側が勝手にきめる
主キー
カテゴリID：外部キー

Mode：A,B,NULL
A:学校
B:バイト
NULL:それ以外




機能

・大学の予定を追加
・バイトの予定を追加
・その他の予定を追加
・支出管理（給料見る）モード

カレンダーを押した場合
・画面Aバックエンドからセレクト、カレンダーのIDと一致するスケジュールを持ってくる
・持ってきたスケジュールを画面Bのそれぞれの場所に
フロントからバックに渡すもの
カテゴリ、名前、、、、って出る

フロント→バック　リクエスト
	IDをjsonに書き込む
バック→フロント　レスポンス
	スケジュールID、カテゴリID、スケジュールname、start_date、start_time、end_date、end_time


・大学、バイトの予定を追加
フロントからバック
Modeを送る（学校A、バイトB）
バックからフロント
カテゴリーのモードABのカテゴリナンバーをカテゴリTBから探して画面Bのカテゴリーの欄に入れる


・その他
そのまま画面Bに遷移
リクエスト　送らんでもいい
レスポンス　


・給料
画面Cに労働時間、給料、戻るボタン
カテゴリTBのモードBの時カテゴリNO拾う、スケジュールを拾う、計算、表示

B、登録を押した場合自分がSC IDを持ってたら変更、モードがAB NULLか判断
ABなら準備、移動時間のSC変更、IDない場合は新しく追加

受け渡しはjson

関数をバックエンドで複数作る
jsonでデータの受け渡し
フロントで受け取る



・バックエンド
・フロントエンド
・カレンダー
・給料




# Freedom - スケジュール・シフト管理アプリケーション

## アプリのテーマ

**Freedom** は、学生の生活を効率化するためのスケジュール・シフト管理アプリケーションです。

### テーマ
「学生生活の時間管理を自由に、シンプルに」

大学生が日々の予定（学校、バイト、その他）を一元管理し、バイトの給料計算まで行える統合型スケジュール管理ツールです。

### アピールポイント

1. **視覚的なカレンダー表示**
   - 月単位で予定を一目で確認
   - 予定がある日を色分け表示
   - 選択した日付の視覚的フィードバック

2. **カテゴリ別の予定管理**
   - 学校（モードA）、バイト（モードB）、その他（NULL）で分類
   - 各カテゴリに応じた自動処理

3. **給料計算機能**
   - バイトシフトから自動で労働時間を計算
   - 時給を考慮した給料の見積もり表示

4. **JSONベースの非同期通信**
   - フロントエンドとバックエンドをJSONファイルで連携
   - シンプルで拡張しやすいアーキテクチャ

---

## 機能一覧

### 主要機能

| 機能名 | 説明 | 実装状況 |
|--------|------|----------|
| **カレンダー表示** | 月単位のカレンダーで予定を視覚的に表示 | ✅ 実装済み |
| **予定の追加** | 学校・バイト・その他の予定を追加 | ✅ 実装済み |
| **予定の変更** | 既存の予定を編集・更新 | ✅ 実装済み |
| **予定の削除** | 不要な予定を削除 | ✅ 実装済み |
| **日付別予定取得** | 選択した日付の予定を一覧表示 | ✅ 実装済み |
| **給料計算** | バイトシフトから労働時間と給料を計算 | ✅ 実装済み |

### 詳細機能

#### 1. カレンダー機能 (`front_end/calender.py`)
- 月のカレンダー表示
- 前月/次月への移動
- 日付選択機能
- 予定がある日のハイライト表示
- 選択した日付の視覚的フィードバック
- 選択日の予定一覧表示

#### 2. 予定管理機能 (`front_end/change.py`)
- 予定の追加・編集
- モード選択（学校A / バイトB / その他NULL）
- 開始日時・終了日時の設定
- 予定名の入力

#### 3. 給料計算機能 (`front_end/money.py`)
- 指定月のバイトシフト集計
- 労働時間の自動計算
- 時給を考慮した給料見積もり
- 日別の詳細表示

#### 4. メニュー機能 (`front_end/menu.py`)
- 各機能へのアクセス
- アプリケーションのナビゲーション

---

## システム仕様

### アーキテクチャ

- **フロントエンド**: Tkinter (Python GUI)
- **バックエンド**: Python + Peewee ORM
- **データベース**: SQLite
- **通信方式**: JSONファイルベースの非同期通信

### データ構造

#### データベーステーブル

**schedule_tb（スケジュールテーブル）**
- `id`: スケジュールID（主キー、自動採番）
- `mode`: モード（A: 学校、B: バイト、NULL: その他）
- `name`: 予定名
- `start_date`: 開始日
- `start_time`: 開始時刻
- `end_date`: 終了日
- `end_time`: 終了時刻

**category_tb（カテゴリテーブル）**
- `id`: カテゴリID（主キー）
- `name`: カテゴリ名
- `mode`: モード（A/B/NULL）

#### JSON通信仕様

**リクエスト (`json/request.json`)**
{
  "action": "get_schedule",
  "date": "2026-01-15"
}

レスポンス (json/response.json)
{  "ok": true,  "action": "get_schedule",  "data": {    "date": "2026-01-15",    "schedules": [...]  }}

### サポートするアクション

| アクション | 説明 | リクエストパラメータ | レスポンス |
|-----------|------|---------------------|-----------|
| `get_schedule` | 指定日の予定を取得 | `date` (YYYY-MM-DD形式の文字列) | `ok`: true/false<br>`data.date`: 検索日付<br>`data.schedules`: 予定の配列 |
| `add_schedule` | 予定を追加 | `mode` (A/B/NULL)<br>`name` (予定名)<br>`start_date` (YYYY-MM-DD)<br>`start_time` (HH:MM)<br>`end_date` (YYYY-MM-DD)<br>`end_time` (HH:MM) | `ok`: true/false<br>`data.schedule`: 追加された予定情報 |
| `update_schedule` | 予定を更新 | `id` (スケジュールID)<br>`mode` (A/B/NULL)<br>`name` (予定名)<br>`start_date` (YYYY-MM-DD)<br>`start_time` (HH:MM)<br>`end_date` (YYYY-MM-DD)<br>`end_time` (HH:MM) | `ok`: true/false<br>`data.schedule`: 更新された予定情報 |
| `delete_schedule` | 予定を削除 | `id` (スケジュールID) | `ok`: true/false<br>`data.deleted`: 削除されたID |
| `calc_wage` | 給料を計算 | `year` (年)<br>`month` (月) | `ok`: true/false<br>`total_hours`: 総労働時間<br>`total_wage`: 総給料<br>`detail`: 日別詳細 |

### 役割分担表

各機能の実装・保守を担当しているメンバーと連絡先です。機能追加やバグ報告の際は、該当する担当者に問い合わせてください。

| 機能/モジュール | 担当者 | GitHubアカウント | 備考 |
|----------------|--------|------------------|------|
| **カレンダー機能** | [担当者名を記入] | [GitHubアカウントを記入] | カレンダー表示、予定の視覚化、日付選択機能 (`front_end/calender.py`) |
| **予定管理機能** | [担当者名を記入] | [GitHubアカウントを記入] | 予定の追加・編集・削除機能 (`front_end/change.py`) |
| **給料計算機能** | [担当者名を記入] | [GitHubアカウントを記入] | バイトシフトの集計・給料計算 (`front_end/money.py`) |
| **バックエンド** | [担当者名を記入] | [GitHubアカウントを記入] | データベース操作、API実装 (`back_end/functions.py`) |
| **メニュー/UI統合** | [担当者名を記入] | [GitHubアカウントを記入] | メインウィンドウ、ナビゲーション (`front_end/menu.py`, `main.py`) |
| **データベース設計** | [担当者名を記入] | [GitHubアカウントを記入] | データベーススキーマ、初期化 (`back_end/db/`) |
| **テスト** | [担当者名を記入] | [GitHubアカウントを記入] | 単体テスト、統合テスト (`tests/`) |

#### 問い合わせ方法

- **機能追加の提案**: 該当機能の担当者にIssueを作成
- **バグ報告**: 該当機能の担当者にIssueを作成  
- **全般的な質問**: プロジェクトメンテナーに連絡

#### セットアップ・実行方法
必要な環境
Python 3.8以上
必要なパッケージ: peewee, tkinter（標準ライブラリ）

# インストール方法
#### リポジトリをクローン
git clone [リポジトリURL]

#### 依存パッケージのインストール（必要な場合）
pip install peewee

# 実行方法
#### メインアプリケーションを起動
python main.py

# ディレクトリ構造
freedom/<br>
├── main.py # アプリケーションエントリーポイント<br>
├── watcher_tk.py # JSONリクエスト監視（Tkinter版）<br>
├── watcher.py # JSONリクエスト監視<br>
├── my_database.db # SQLiteデータベースファイル<br>
├── README.md # このファイル<br>
├── front_end/ # フロントエンドモジュール<br>
│ ├── init.py<br>
│ ├── calender.py # カレンダー機能<br>
│ ├── change.py # 予定追加/変更機能<br>
│ ├── money.py # 給料計算機能<br>
│ └── menu.py # メインメニュー<br>
│
├── back_end/ # バックエンドモジュール<br>
│ ├── init.py<br>
│ ├── functions.py # API関数（予定のCRUD操作）<br>
│ └── db/ # データベース関連<br>
│ ├── init.py<br>
│ ├── db.py # データベースモデル定義<br>
│ └── init.py # データベース初期化<br>
│
├── json/ # JSON通信ファイル<br>
│ ├── request.json # フロントエンド→バックエンドのリクエスト<br>
│ └── response.json # バックエンド→フロントエンドのレスポンス<br>
│
└── tests/ # テストコード<br>
├── test_frontend.py # フロントエンドのテスト<br>
└── test_ui_behavior.py # UI動作のテスト<br>

# 今後の拡張予定
[ ] 月全体の予定を一度に取得する機能の追加<br>
[ ] 予定のドラッグ&ドロップによる移動<br>
[ ] 支出管理機能の拡張<br>
[ ] 準備時間・移動時間の自動計算<br>
[ ] データのエクスポート/インポート機能